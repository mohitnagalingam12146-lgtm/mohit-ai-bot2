<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyAI - Your Personal Learning Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
            to { text-shadow: 2px 2px 20px rgba(255,255,255,0.5); }
        }

        .quote-display {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .quote-text {
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 10px;
        }

        .quote-author {
            font-weight: bold;
            opacity: 0.8;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .panel {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .panel h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 1.5rem;
            text-align: center;
        }

        .upload-area {
            border: 3px dashed #cbd5e0;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #f7fafc, #edf2f7);
        }

        .upload-area:hover {
            border-color: #4299e1;
            background: linear-gradient(45deg, #ebf8ff, #bee3f8);
        }

        .upload-area.dragover {
            border-color: #3182ce;
            background: linear-gradient(45deg, #bee3f8, #90cdf4);
            transform: scale(1.02);
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.4);
        }

        .url-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            margin: 10px 0;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .url-input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
        }

        .pdf-viewer {
            background: white;
            border-radius: 15px;
            padding: 20px;
            height: 500px;
            overflow-y: auto;
            border: 2px solid #e2e8f0;
        }

        .chat-container {
            height: 400px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            overflow-y: auto;
            padding: 15px;
            background: white;
            margin-bottom: 15px;
        }

        .message {
            margin: 10px 0;
            padding: 12px;
            border-radius: 15px;
            max-width: 80%;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .user-message {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            margin-left: auto;
        }

        .ai-message {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 1rem;
        }

        .send-btn {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .send-btn:hover {
            transform: scale(1.05);
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #ed64a6, #d53f8c);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: scale(1.05);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            animation: countUp 2s ease-out;
        }

        @keyframes countUp {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .feature-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .tab-btn.active {
            background: rgba(255,255,255,0.9);
            color: #4a5568;
            transform: translateY(-2px);
        }

        .tab-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .youtube-container {
            margin: 15px 0;
        }

        .youtube-embed {
            width: 100%;
            height: 300px;
            border-radius: 10px;
        }

        .voice-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .voice-btn {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(240, 147, 251, 0.4);
        }

        .recommendations {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4299e1, #48bb78);
            transition: width 0.3s;
            animation: progressAnimation 2s ease-out;
        }

        @keyframes progressAnimation {
            from { width: 0; }
            to { width: 65%; }
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(240, 147, 251, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .floating-action:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(240, 147, 251, 0.6);
        }

        .typing-indicator {
            display: none;
            padding: 10px;
            font-style: italic;
            color: #666;
        }

        .typing-indicator.active {
            display: block;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .assessment-panel {
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
        }

        .quiz-question {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .option-btn {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-align: left;
        }

        .option-btn:hover {
            background: #ebf8ff;
            border-color: #4299e1;
        }

        .option-btn.correct {
            background: #c6f6d5;
            border-color: #48bb78;
        }

        .option-btn.incorrect {
            background: #fed7d7;
            border-color: #f56565;
        }

        .podcast-player {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 15px 0;
        }

        .play-pause-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            margin: 10px;
            transition: background 0.3s;
        }

        .play-pause-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }

            .feature-tabs {
                flex-direction: column;
                align-items: center;
            }

            .tab-btn {
                width: 200px;
            }
        }

        .study-streak {
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 10px 0;
            color: #333;
        }

        .streak-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e53e3e;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎓 StudyAI Platform</h1>
            <p>Your intelligent study companion powered by advanced AI</p>
        </div>

        <div class="quote-display" id="quoteDisplay">
            <div class="quote-text" id="quoteText">"The beautiful thing about learning is that no one can take it away from you."</div>
            <div class="quote-author" id="quoteAuthor">- B.B. King</div>
        </div>

        <div class="feature-tabs">
            <button class="tab-btn active" onclick="switchTab('upload')">📚 Document Upload</button>
            <button class="tab-btn" onclick="switchTab('chat')">🤖 AI Assistant</button>
            <button class="tab-btn" onclick="switchTab('analytics')">📊 Progress Analytics</button>
            <button class="tab-btn" onclick="switchTab('youtube')">📺 YouTube Learning</button>
            <button class="tab-btn" onclick="switchTab('assessment')">📝 Smart Assessment</button>
        </div>

        <div id="uploadTab" class="tab-content active">
            <div class="main-grid">
                <div class="panel">
                    <h2>📄 Document Processing Center</h2>
                    <div class="upload-area" id="uploadArea">
                        <div>
                            <p style="font-size: 1.1rem;">📁 Drag & drop your PDF files here</p>
                            <p style="margin: 10px 0;">or</p>
                            <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                                📎 Choose Files
                            </button>
                            <input type="file" id="fileInput" class="file-input" accept=".pdf" multiple>
                        </div>
                    </div>
                    
                    <input type="url" class="url-input" placeholder="🌐 Enter PDF URL from web..." id="pdfUrl">
                    <button class="upload-btn" onclick="loadPdfFromUrl()">🔗 Load PDF from URL</button>
                    
                    <div class="voice-controls">
                        <button class="voice-btn" onclick="startPodcastMode()">
                            🎙️ Podcast Mode
                        </button>
                        <button class="voice-btn" onclick="toggleVoiceAssistant()">
                            🗣️ Voice Chat
                        </button>
                        <button class="voice-btn" onclick="generateSummary()">
                            📋 AI Summary
                        </button>
                    </div>

                    <div class="podcast-player" id="podcastPlayer" style="display: none;">
                        <h3>🎧 AI Podcast Narrator</h3>
                        <p id="podcastStatus">Ready to explain your document</p>
                        <button class="play-pause-btn" onclick="togglePodcast()">▶️</button>
                        <div style="margin-top: 10px;">
                            <button class="upload-btn" onclick="adjustSpeed('slow')">🐌 Slow</button>
                            <button class="upload-btn" onclick="adjustSpeed('normal')">🚶 Normal</button>
                            <button class="upload-btn" onclick="adjustSpeed('fast')">🏃 Fast</button>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <h2>📖 Smart Document Viewer</h2>
                    <div class="pdf-viewer" id="pdfViewer">
                        <div style="text-align: center; color: #a0aec0; margin-top: 200px;">
                            <div style="font-size: 3rem; margin-bottom: 20px;">📋</div>
                            <p style="font-size: 1.2rem;">Upload a PDF to start your AI-powered learning journey</p>
                            <p style="margin-top: 10px;">Supported: Local files, Web URLs, Multiple documents</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="chatTab" class="tab-content">
            <div class="main-grid">
                <div class="panel">
                    <h2>🤖 Jarvis - AI Study Assistant</h2>
                    <div class="chat-container" id="chatContainer">
                        <div class="message ai-message">
                            Hello! I'm Jarvis, your intelligent study companion! 🎓 I can help you understand documents, create personalized summaries, generate quizzes, provide study recommendations, and even explain content in podcast format. Just say "Hello Jarvis" to get started, or ask me anything about your studies!
                        </div>
                    </div>
                    <div class="typing-indicator" id="typingIndicator">Jarvis is thinking...</div>
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Ask Jarvis anything about your studies..." onkeypress="handleChatKeyPress(event)">
                        <button class="send-btn" onclick="sendMessage()">🚀 Send</button>
                    </div>
                </div>

                <div class="panel">
                    <h2>🎯 Personalized Study Plan</h2>
                    <div class="study-streak">
                        <h3>🔥 Study Streak</h3>
                        <div class="streak-number">7 Days</div>
                        <p>Keep it up! You're on fire!</p>
                    </div>
                    
                    <div class="recommendations">
                        <h3>📈 AI-Driven Recommendations</h3>
                        <p>Based on your learning patterns and document analysis:</p>
                        <ul style="margin: 15px 0; padding-left: 20px;">
                            <li>📝 Review chapter 3 concepts - 85% mastery achieved</li>
                            <li>🧪 Practice more problem-solving exercises</li>
                            <li>📚 Focus on advanced topics in quantum physics</li>
                            <li>⏰ Optimal study time: 2-4 PM (based on your activity)</li>
                            <li>🎯 Take a 15-min break every 45 minutes</li>
                        </ul>
                        <button class="upload-btn" onclick="generateStudyPlan()">🎯 Generate New Plan</button>
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%;"></div>
                    </div>
                    <p style="text-align: center; margin-top: 10px;">Overall Learning Progress: 65%</p>
                </div>
            </div>
        </div>

        <div id="analyticsTab" class="tab-content">
            <div class="panel">
                <h2>📊 Advanced Learning Analytics</h2>
                <div class="analytics-grid">
                    <div class="stat-card" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                        <div class="stat-number" id="docsProcessed">47</div>
                        <div>Documents Analyzed</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #43e97b, #38f9d7);">
                        <div class="stat-number" id="questionsAsked">156</div>
                        <div>Questions Asked</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #fa709a, #fee140);">
                        <div class="stat-number" id="studyTime">23h</div>
                        <div>Total Study Time</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #a8edea, #fed6e3);">
                        <div class="stat-number" id="avgScore">89%</div>
                        <div>Average Quiz Score</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #d299c2, #fef9d7);">
                        <div class="stat-number" id="concepts">234</div>
                        <div>Concepts Mastered</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #89f7fe, #66a6ff);">
                        <div class="stat-number" id="streak">7</div>
                        <div>Day Study Streak</div>
                    </div>
                </div>

                <div style="margin: 30px 0;">
                    <h3>📈 Weekly Learning Progress</h3>
                    <div style="display: flex; justify-content: space-between; align-items: end; height: 200px; background: white; padding: 20px; border-radius: 15px; margin: 15px 0;">
                        <div style="width: 40px; height: 60%; background: linear-gradient(to top, #4299e1, #63b3ed); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Mon</span>
                        </div>
                        <div style="width: 40px; height: 80%; background: linear-gradient(to top, #48bb78, #68d391); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Tue</span>
                        </div>
                        <div style="width: 40px; height: 45%; background: linear-gradient(to top, #ed8936, #f6ad55); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Wed</span>
                        </div>
                        <div style="width: 40px; height: 90%; background: linear-gradient(to top, #38b2ac, #4fd1c7); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Thu</span>
                        </div>
                        <div style="width: 40px; height: 70%; background: linear-gradient(to top, #9f7aea, #b794f6); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Fri</span>
                        </div>
                        <div style="width: 40px; height: 95%; background: linear-gradient(to top, #f093fb, #f5576c); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Sat</span>
                        </div>
                        <div style="width: 40px; height: 85%; background: linear-gradient(to top, #4299e1, #63b3ed); border-radius: 5px; position: relative;">
                            <span style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.8rem;">Sun</span>
                        </div>
                    </div>
                </div>

                <div class="recommendations">
                    <h3>🎯 Performance Insights</h3>
                    <p><strong>🏆 Strengths:</strong> Consistent daily engagement, strong comprehension of complex topics</p>
                    <p><strong>📈 Improvement Areas:</strong> Focus more time on practice problems, review difficult concepts</p>
                    <p><strong>🎓 Next Milestone:</strong> Complete advanced module by next week</p>
                </div>
            </div>
        </div>

        <div id="youtubeTab" class="tab-content">
            <div class="main-grid">
                <div class="panel">
                    <h2>📺 YouTube Learning Hub</h2>
                    <input type="url" class="url-input" placeholder="🔗 Paste YouTube video URL here..." id="youtubeUrl">
                    <button class="upload-btn" onclick="loadYouTubeVideo()">📹 Load Video</button>
                    
                    <div class="voice-controls">
                        <button class="voice-btn" onclick="extractAudioTranscript()">
                            📝 Extract Transcript
                        </button>
                        <button class="voice-btn" onclick="generateVideoQuiz()">
                            🧠 Generate Quiz
                        </button>
                    </div>
                    
                    <div class="youtube-container" id="youtubeContainer">
                        <div style="text-align: center; color: #a0aec0; padding: 50px;">
                            <div style="font-size: 3rem; margin-bottom: 20px;">📹</div>
                            <p style="font-size: 1.2rem;">Enter a YouTube URL to start AI-powered video learning</p>
                            <p>Features: Auto-transcription, Quiz generation, Key concepts extraction</p>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <h2>📝 Video Analysis & Notes</h2>
                    <div id="videoNotes" style="background: #f7fafc; padding: 20px; border-radius: 10px; min-height: 350px; overflow-y: auto;">
                        <p style="color: #a0aec0; text-align: center; margin-top: 150px;">
                            🤖 AI-generated video analysis and smart notes will appear here after loading a video...
                        </p>
                    </div>
                    
                    <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="upload-btn" onclick="generateVideoSummary()">
                            🤖 Generate Summary
                        </button>
                        <button class="upload-btn" onclick="extractKeyPoints()">
                            🎯 Key Points
                        </button>
                        <button class="upload-btn" onclick="createTimestamps()">
                            ⏰ Timestamps
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="assessmentTab" class="tab-content">
            <div class="main-grid">
                <div class="panel">
                    <h2>📝 AI Assessment Generator</h2>
                    <div class="assessment-panel">
                        <h3>🎯 Smart Quiz Creation</h3>
                        <p>Generate personalized quizzes based on your uploaded documents and study materials.</p>
                        
                        <div style="margin: 20px 0;">
                            <label>